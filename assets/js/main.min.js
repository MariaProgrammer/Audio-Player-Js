const player=document.querySelector(".player"),prevBtn=document.querySelector(".prev"),playBtn=document.querySelector(".play"),nextBtn=document.querySelector(".next"),audio=document.querySelector(".audio"),progressContainer=document.querySelector(".progress__container"),progress=document.querySelector(".progress"),title=document.querySelector(".song"),imgSrc=document.querySelector(".img__src"),coverImg=document.querySelector(".cover__img"),songs=["Bud_schastliv","Mne_tverdyat","kak_zdorovo"];let songIndex=0;function loadSong(e){title.innerHTML=e,audio.src=`./assets/audio/${e}.mp3`,coverImg.src=`./assets/images/cover${songIndex+1}.png`}function playSong(){player.classList.add("play"),coverImg.classList.add("active"),imgSrc.src="./assets/images/stop.svg",audio.play()}function pauseSong(){player.classList.remove("play"),coverImg.classList.remove("active"),imgSrc.src="./assets/images/play.svg",audio.pause()}function nextSong(){++songIndex>songs.length-1&&(songIndex=0),loadSong(songs[songIndex]),playSong()}function prevSong(){--songIndex<0&&(songIndex=songs.length-1),loadSong(songs[songIndex]),playSong()}function updateProgress(e){var{duration:e,currentTime:n}=e.srcElement,n=n/e*100;progress.style.width=n+"%"}function setProgress(e){var n=this.clientWidth,e=e.offsetX,o=audio.duration;audio.currentTime=e/n*o}loadSong(songs[songIndex]),playBtn.addEventListener("click",()=>{(player.classList.contains("play")?pauseSong:playSong)()}),nextBtn.addEventListener("click",nextSong),prevBtn.addEventListener("click",prevSong),audio.addEventListener("timeupdate",updateProgress),progressContainer.addEventListener("click",setProgress),audio.addEventListener("ended",nextSong);